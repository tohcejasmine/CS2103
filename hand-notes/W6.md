# CS2103 Notes (Week 6)

# Week 5 (Lecture - 13/9)

 * Doc comments should not include where the method will be used, because no control over it
 * Method doc comments
    - Verbs: _runs_, _constructs_
 * When defining methods, defining new vocabulary for readers
        - E.g. method name, variable names
        - Nouns and verbs
* SLAP
    - 2 levels is still all right
* Good code looks neat
* Learn smarter
    - Find out about things
    - At least what it does
    - When the time comes, can just find out more on how to use it
* Learn gradually at your own pace

## Modeling: Sequence Diagrams

* Interactions between components for a given scenario
* Self-call and call-backs
* Alternative paths (`if-else`) and optional paths (`if`)

## Modeling: Architecture Diagrams

* High-level structure
* Important technical decisions
    - E.g. servers
* Multi-level design
    - Class diagrams that do not span entire system
    - Instead OOP Component Design
    - For each component, focus only on it
        - Methods within it
    - Connect to components (i.e. classes) it calls with an arrow to a general box

## Product Design

* Personal, subjective observations about product design
* Everything you do should add value to the user
    - Not for your learning
* Minimise work for users
* Think from the user's point of view
    - To get the features
* Simple, the better
* Some users don't like flexibility and making choices
* Don't force users to read the user manual
    - Populate with well-chosen sample data
    - Contextual tups
    - Informative error messages
* Handle user input errors
* Focus on the benefits, not the features
* Visualise usage
    - Personas
    - Situation, context of use
    - First use: sample data? Tutorial?
    - Second and more use?
* Biggest aspect: **care** for the users
    - Figure out what users want
    - Main thing is that users have to like it

## Logging

* Keep record of what happen
* `log()`
    - E.g. `log(LEVEL_INFO, "Setting size to small")`
    - E.g.`log(LEVEL_WARN, "Size not recognised")`
* Can control what levels to show (e.g. when system is more developed, just show warnings)

## Breakpoints
* In IDE
* Specify the breakpoint
* Run program in debug mode
* Stops at breakpoint
* Shows values of variables at that point
* Can show values in next line etc.

## IDE Shortcuts

* `ctrl-Shift-v`: show list of things copied
* `ctrl-Shift-n`: find a method by search

# Modeling: UML Sequence Diagrams

* Diagram captures the interactions between multiple objects for a given scenario

<img src = "./images/W6_sequence_diag_not.png">

* Instance of a class
    * E.g. `:TextUI`: unnamed instance of class `TextUi`
    * E.g. `TextUi1:TextUi`, `TextUi2:TextUi`: 2 instances of `TextUi` which are distinguished by naming them
* **(Solid) Arrows**: represents method calls
* **(Dashed) Arrows**: represents method returns
* Class/object name **not** underline in sequence diagrams
* Common notation errors:
    1. _Activation bar too long_
        - Activation bar of a method canot start before the method call arrives
        - Method cannot remain active after method has returned
        - i.e. Arrows should connect at the start and end of activation bar (not middle)
        - Example: method `Foo#xyz()`
    <img src = "./images/W6_seq_diag_err1.png">
    2. _Broken activation bar_
        - Activation bar should remain unbroken from the point the method is called until method returns
    <img src = "./images/W6_seq_diag_err1.png">

## Loops

* Notation:

<img src = "./images/W6_seq_diag_loops_not.png">

* Example:
    - `Player` calls `mark x, y` command or `clear x y` command repeatedly until game is won or lost

<img src = "./images/W6_seq_diag_loops_ex.png"> 

## Object Creation

* Notation:
    1. **Arrow** that represents the constructor arrives at the side of box representing instance
    2. **Activation bar** represents period that constructor is active

<img src = "./images/W6_obj_creation_not.png"> 

## Object Deletion

* UML uses an `X` at the end of the lifeline of an object to show it's deletion
* Note: Although object deletion is not that important in languages (e.g. Java) that support automatic memory management, still can show deletion in UML diagrams to indicate the point at which the object ceases to be used
* Notation:

<img src = "./images/W6_obj_deletion_not.png"> 

## Self-Invocation

* Show a method of an object calling another of its own methods
* Notation:

<img src = "./images/W6_self_invocation_not.png">

* **_call back_**
    - Example:
    - `Book#write()` method calling `Chapter#getText()` which in turn does a _call back_ by calling `getAuthor()` method of calling object

<img src = "./images/W6_self_invocation_ex.png">

## Alternative Paths

* Use `alt` frames to indicate alternative paths
* Notation:

<img src = "./images/W6_alt_paths_not.png">

* For paths like `if-else` statements etc.
* Example:

<img src = "./images/W6_alt_paths_ex.png">

## Optional Paths

* Use `opt` frames to indicate optional paths
* Notation:

<img src = "./images/W6_op_path_not.png">

* Example:

<img src = "./images/W6_op_path_ex.png">

## Reference Frames

* UML uses _ref frame_ to allow **segment of interaction** to be omitted and shown as a separate sequence diagram
* Helps to:
    - break complicated sequence diagrams into multiple parts
    - simply omit details not interested in showing
* Kinda like referencing to another diagram that zooms in on the interactions
* Notation:

<img src = "./images/W6_ref_frame_not.png">

* Example:

<img src = "./images/W6_ref_frame_ex.png">

## Parallel Paths

* Use `par` frames to indicate parallel paths
* Note: If show parallel paths in a sequence diagram, the corresponding Java impementation is likely to be _multi-threaded_ because normal Java program cannot do multiple things at the same time
* Notation:

<img src = "./images/W6_par_path_not.png">

* Example
    - `Logic` calling methods `CloudServer#poll()` and `LocalServer#poll()` in parallel

<img src = "./images/W6_par_path_ex.png">


## Sequence Diagram: Questions

* Explain sequence diagram
* Draw sequence diagram for code snippet
* Explain interactions in sequence diagram
    - Example

    <img src = "./images/W6_seq_diag_q.png">


# Architecture Diagrams
## Reading
## Multi-Level Design

# IDEs: Basic Features
## Debugging
## Code Navigation

# Logging

# Documentation Tools
## Markdown
## AsciiDoc